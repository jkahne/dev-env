{
    "profiles": [
        {
            "complex_modifications": {
                "parameters": { "basic.to_if_held_down_threshold_milliseconds": 50 },
                "rules": [
                    {
                        "description": "Tab = Tab when tapped, Hyper Major when held",
                        "manipulators": [
                            {
                                "from": { "key_code": "tab", "modifiers": { "optional": ["any"] } }, "parameters": { "basic.to_if_held_down_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "tab" } ],
                                "to_if_held_down": [ { "key_code": "left_shift", "modifiers": ["left_command", "left_control", "left_option"] } ],
                                "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "nav_mode remaps: hjkl = arrows, u & i => prev/next tab",
                        "manipulators": [
                            {
                                "conditions": [ { "name": "nav_mode", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "h" }, "to": [{ "key_code": "left_arrow" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "nav_mode", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "l" }, "to": [{ "key_code": "right_arrow" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "nav_mode", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "j" }, "to": [{ "key_code": "down_arrow" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "nav_mode", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "k" }, "to": [{ "key_code": "up_arrow" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "nav_mode", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "u" }, "to": [ { "key_code": "open_bracket", "modifiers": ["left_shift", "left_command"] } ], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "nav_mode", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "i" }, "to": [ { "key_code": "close_bracket", "modifiers": ["left_shift", "left_command"] } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Enable nav_mode when q + w are held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "q" }, { "key_code": "w" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" }
                                },
                                "to": [ { "set_variable": { "name": "nav_mode", "value": 1 } } ],
                                "to_after_key_up": [ { "set_variable": { "name": "nav_mode", "value": 0 } } ],
                                "type": "basic"
                            }
                        ]
                    },


{
  "description": "Toggle m_layer with Cmd + Ctrl + Option + y",
  "manipulators": [
    {
      "type": "basic",
      "from": { "key_code": "y", "modifiers": { "mandatory": ["left_command", "left_control", "left_option"], "optional": ["any"] } },
      "conditions": [ { "type": "variable_if", "name": "m_layer", "value": 0 } ],
      "to": [ { "set_variable": { "name": "m_layer", "value": 1 } } ]
    },
    {
      "type": "basic",
      "from": { "key_code": "y", "modifiers": { "mandatory": ["left_command", "left_control", "left_option"], "optional": ["any"] } },
      "conditions": [ { "type": "variable_if", "name": "m_layer", "value": 1 } ],
      "to": [ { "set_variable": { "name": "m_layer", "value": 0 } } ]
    }
  ]
},
                    {
                        "description": "m_layer remaps: numbers",
                        "manipulators": [
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "right_command" }, "to": [{ "key_code": "0" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "semicolon" }, "to": [{ "key_code": "period" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "m" }, "to": [{ "key_code": "1" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "comma" }, "to": [{ "key_code": "2" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "period" }, "to": [{ "key_code": "3" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "j" }, "to": [{ "key_code": "4" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "k" }, "to": [{ "key_code": "5" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "l" }, "to": [{ "key_code": "6" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "u" }, "to": [{ "key_code": "7" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "i" }, "to": [{ "key_code": "8" }], "type": "basic"
                            },
                            {
                                "conditions": [ { "name": "m_layer", "type": "variable_if", "value": 1 } ],
                                "from": { "key_code": "o" }, "to": [{ "key_code": "9" }], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map f & g to Hyper Minor when held",
                        "manipulators": [
                          {
                            "from": { "simultaneous": [ { "key_code": "f" }, { "key_code": "g" } ],
                              "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                              "to": [ { "key_code": "left_command", "modifiers": ["left_control", "left_option"] } ], "type": "basic"
                          }
                        ]
                    },
                    {
                        "description": "Map e & r to CMD when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "e" }, { "key_code": "r" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_command" } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map f & d to SHIFT when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "f" }, { "key_code": "d" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_shift" } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map c & v to CTRL when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "c" }, { "key_code": "v" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_control" } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map f & r to SHIFT + CMD when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "f" }, { "key_code": "r" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_command", "modifiers": ["left_shift"] } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map f & v to SHIFT + CTRL when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "f" }, { "key_code": "v" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_control", "modifiers": ["left_shift"] } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map r & v to CMD + CTRL when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "r" }, { "key_code": "v" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_control", "modifiers": ["left_command"] } ], "type": "basic"
                            }
                        ]
                    },

                    {
                        "description": "Map u & i to CMD when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "u" }, { "key_code": "i" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_command" } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map j & k to Shift when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "j" }, { "key_code": "k" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_shift" } ], "type": "basic"
                            }
                        ]
                    },




                    {
                        "description": "Map m & , to CTRL when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "m" }, { "key_code": "comma" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_control"  } ], "type": "basic"
                            }
                        ]

                    },



                    {
                        "description": "Map h & j to Hyper Minor when held",
                        "manipulators": [
                          {
                            "from": { "simultaneous": [ { "key_code": "h" }, { "key_code": "j" } ],
                              "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                              "to": [ { "key_code": "left_command", "modifiers": ["left_control", "left_option"] } ], "type": "basic"
                          }
                        ]
                    },

                    {
                        "description": "Map j & i to SHIFT + CMD when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "j" }, { "key_code": "i" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_command", "modifiers": ["left_shift"] } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map k & m to SHIFT + CTRL when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "k" }, { "key_code": "m" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_control", "modifiers": ["left_shift"] } ], "type": "basic"
                            }
                        ]
                    },
                    {
                        "description": "Map m & i to CMD + CTRL when held",
                        "manipulators": [
                            {
                                "from": { "simultaneous": [ { "key_code": "m" }, { "key_code": "v" } ],
                                    "modifiers": { "optional": ["any"] }, "simultaneous_options": { "detect_key_down_uninterruptedly": true, "key_down_order": "insensitive", "key_up_order": "insensitive" } }, "parameters": { "basic.simultaneous_threshold_milliseconds": 50 },
                                "to": [ { "key_code": "left_control", "modifiers": ["left_command"] } ], "type": "basic"
                            }
                        ]
                    }



                ]
            },
            "name": "Default profile",
            "selected": true,
            "simple_modifications": [
                {
                    "from": { "key_code": "caps_lock" },
                    "to": [{ "key_code": "left_control" }]
                }
            ],
            "virtual_hid_keyboard": { "keyboard_type_v2": "ansi" }
        }
    ]
}
